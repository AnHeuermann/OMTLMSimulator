<?xml version='1.0' encoding='UTF-8'?>
<Model Name="OMFMISimulatorTest">
  <SubModels>
    <SubModel Position="0,0,0" ModelFile="hydraulics.hmf" Angle321="0,0,0" StartCommand="StartTLMHopsan" Name="hydraulics">
      <Annotation Extent="{-10,-10,10,10}" Origin="{-38,-30}" Rotation="0" Visible="true"/>
      <InterfacePoint Position="1,0,0" Causality="Input" Angle321="0,0,0" Name="xv" Domain="Signal" Dimensions="1"/>
      <InterfacePoint Position="0,0,0" Causality="Bidirectional" Angle321="0,0,0" Name="tlm" Domain="Mechanical" Dimensions="1"/>
    </SubModel>
    <SubModel Position="0,0,0" ModelFile="mechanics.hmf" Angle321="0,0,0" StartCommand="StartTLMHopsan" Name="mechanics">
      <Annotation Extent="{-10,-10,10,10}" Origin="{26,-28}" Rotation="0" Visible="true"/>
      <InterfacePoint Position="1,0,0" Causality="Output" Angle321="0,0,0" Name="x" Domain="Signal" Dimensions="1"/>
      <InterfacePoint Position="0,0,0" Causality="Bidirectional" Angle321="0,0,0" Name="tlm" Domain="Mechanical" Dimensions="1"/>
    </SubModel>
    <SubModel Position="0,0,0" ModelFile="controller.xml" Angle321="0,0,0" StartCommand="StartTLMOMFMISimulatorWrapper" Name="controller">
      <Annotation Extent="{-10,-10,10,10}" Origin="{-54,10}" Rotation="0" Visible="true"/>
      <InterfacePoint Position="1,0,0" Causality="Input" Angle321="0,0,0" Name="y" Domain="Signal" Dimensions="1"/>
      <InterfacePoint Position="1,0,0" Causality="Output" Angle321="0,0,0" Name="u" Domain="Signal" Dimensions="1"/>
      <Parameter Name="Kp" Value="0.005"/>
      <Parameter Name="Ki" Value="1"/>
    </SubModel>
  </SubModels>
  <Connections>
    <Connection Delay="1e-3" alpha="0.3" From="mechanics.tlm" To="hydraulics.tlm" Zf="10000">
      <Annotation Points="{{37,-23.5},{4,-23.5},{4,-25.5},{-27,-25.5}}"/>
    </Connection>
    <Connection Delay="1e-3" From="controller.u" To="hydraulics.xv">
      <Annotation Points="{{-42,14},{-12,14},{-12,-20},{-26,-20},{-26,-22}}"/>
    </Connection>
    <Connection Delay="1e-3" From="mechanics.x" To="controller.y">
      <Annotation Points="{{-42,18},{42,18},{42,-18},{38,-18},{38,-20}}"/>
    </Connection>
  </Connections>
  <SimulationParams StopTime="2" StartTime="0"/>
</Model>
